(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{103:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},182:function(e,t,a){},184:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(42),c=a.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=a(15),s=a(16),l=a(18),u=a(17),m=(a(103),a(30)),d=a(92),p=a.n(d),h=(a(147),a(97)),v=(a(157),a(45)),g=a.n(v),f=(a(159),a(161),a(162),a(63)),b=a.n(f),E=a(94),y=a(31),O=(a(179),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={name:"",phonenumber:"",isLogin:!1},n.inputChange=n.inputChange.bind(Object(y.a)(n)),n.confirmLogin=n.confirmLogin.bind(Object(y.a)(n)),n.logOut=n.logOut.bind(Object(y.a)(n)),n}return Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e){console.log("nextProps",e)}},{key:"inputChange",value:function(e,t){this.setState(Object(E.a)({},t,e.target.value))}},{key:"confirmLogin",value:function(){var e=this.state,t=e.name,a=e.phonenumber,n=this.props.getLoginStatus;t&&a&&(n({name:t,phonenumber:a},!0),this.setState({isLogin:!0,name:"",phonenumber:""}))}},{key:"logOut",value:function(){(0,this.props.getLoginStatus)(null,!1),this.setState({isLogin:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.phonenumber,i=this.props.state.app,c=void 0===i?{}:i,r=this.props,s=r.show,l=r.showLogout;return s?o.a.createElement("div",null,!c.loginStatus&&o.a.createElement("div",{className:"loginWrap"},o.a.createElement("div",{className:"loginPanle"},o.a.createElement("div",{className:"title"},"\u767b\u5f55"),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"label name"},"\u59d3\u540d"),o.a.createElement("input",{className:"input",placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d",onChange:function(t){return e.inputChange(t,"name")},value:a})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"label phonenumber"},"\u7535\u8bdd"),o.a.createElement("input",{type:"number",maxLength:"11",className:"input",placeholder:"\u8bf7\u8f93\u5165\u7535\u8bdd",onChange:function(t){return e.inputChange(t,"phonenumber")},value:n})),o.a.createElement("div",{className:"confirmBtn",onClick:function(){return e.confirmLogin()}},"\u786e\u8ba4"))),c.loginStatus&&l&&o.a.createElement("div",{className:"logoutBtn",onClick:function(){return e.logOut()}},"\u9000\u51fa\u767b\u9646")):null}}]),a}(o.a.Component)),L=function(e,t){return{type:"LOGIN",data:{userinfo:e,loginStatus:t}}},C=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).tabs=[{title:o.a.createElement(g.a,null,"\u6bb5\u5b50")},{title:o.a.createElement(g.a,{dot:!0},"\u89c6\u9891")},{title:o.a.createElement(g.a,null,"\u7b11\u8bdd")}],n.state={todayVideoList:[],videoDuanzi:[],showLogin:!1,selectedIndex:0},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;new Promise((function(e,t){b.a.get("https://api.apiopen.top/getJoke?page=1&count=10&type=video").then((function(a){if(a&&200===a.status&&a.data){var n=a.data,o=n.code,i=n.result;200===o&&e(i)}else t({code:-1,msg:"\u83b7\u53d6\u6bcf\u65e5\u6bb5\u5b50\u51fa\u9519~~~"})})).catch((function(e){console.log(e),t({code:-1,msg:e&&e.message})}))})).then((function(t){t&&e.setState({videoDuanzi:t})})),new Promise((function(e,t){b.a.get("https://api.apiopen.top/todayVideo").then((function(a){if(a&&200===a.status&&a.data){var n=a.data,o=n.code,i=n.result;200===o&&e(i)}else t({code:-1,msg:"\u83b7\u53d6\u6bcf\u65e5\u89c6\u9891\u51fa\u9519~~~"})})).catch((function(e){console.log(e),t({code:-1,msg:e&&e.message})}))})).then((function(t){if(console.log(t),t&&t.length>0){var a=[];t.map((function(e){if(e&&e.data&&e.data.content&&"video"===e.data.content.type){var t=e.data.content.data,n=t.description,o=t.duration,i=t.playUrl,c=t.title,r=t.id;a.push({description:n,duration:o,playUrl:i,title:c,id:r})}})),e.setState({todayVideoList:a})}}))}},{key:"componentDidUpdate",value:function(){this.state.todayVideoList}},{key:"tabClick",value:function(e,t){console.log(e,t);var a=this.props.state.app;(void 0===a?{}:a).loginStatus||1!=t&&2!=t||this.setState({showLogin:!0})}},{key:"cardBeforeChange",value:function(e,t){}},{key:"cardAfterChange",value:function(e){}},{key:"render",value:function(){var e=this,t=this.state,a=t.videoDuanzi,n=t.todayVideoList,i=t.selectedIndex,c=this.tabs;return o.a.createElement("div",{className:"homeWrap"},o.a.createElement(h.a,{tabs:c,initialPage:0,swipeable:!1,onChange:function(e,t){console.log("onChange",t,e)},onTabClick:function(t,a){return e.tabClick(t,a)}},o.a.createElement("div",{className:"tab-list"},a&&a.map((function(e){return o.a.createElement("div",{className:"items",key:e.sid},"video"===e.type&&o.a.createElement("div",{className:"videoWrap"},o.a.createElement("video",{src:e.video,controls:!0,width:"100%",height:"210px"}),o.a.createElement("div",{className:"desc"},e.text)),o.a.createElement("div",{className:"basicInfo"},o.a.createElement("img",{className:"avatar",src:e.top_comments_header,alt:""}),o.a.createElement("span",{className:"name"},e.top_comments_name)))}))),o.a.createElement("div",{className:"tab-list todayVideoList"},o.a.createElement(p.a,{dots:!1,autoplay:!1,cellSpacing:16,slideWidth:.8,selectedIndex:i,beforeChange:function(t,a){return e.cardBeforeChange(t,a)},afterChange:function(t){return e.cardAfterChange(t)}},n&&n.map((function(e,t){return o.a.createElement("div",{className:"videoWrap",key:t},o.a.createElement("div",{className:"videoItem",id:"videoItem_".concat(e.id)},o.a.createElement("video",{src:e.playUrl,controls:!0,width:"100%",height:"420px"})))})))),o.a.createElement("div",null,"333")),o.a.createElement(O,Object.assign({},this.props,{show:this.state.showLogin})))}}]),a}(n.Component),k=Object(m.b)((function(e){return{state:e}}),(function(e){return{getLoginStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;e(L(t,a))}}}))(C),N=(a(180),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(r.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"my-wrap"},o.a.createElement(O,Object.assign({},this.props,{showLogout:!0,show:!0})))}}]),a}(o.a.Component)),j=Object(m.b)((function(e){return{state:e}}),(function(e){return{getLoginStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;e(L(t,a))}}}))(N),w=a(33),S=a(20),x=function(e){return o.a.createElement(S.c,null,o.a.createElement(S.a,{exact:!0,path:"/",component:e.routeList[0].component}),e.routeList.map((function(e,t){return o.a.createElement(S.a,{exact:!0,path:e.path,component:e.component,key:t})})))},_=(a(182),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.linkList;return o.a.createElement("ul",{className:"menuList"},e.map((function(e,t){return o.a.createElement("li",{className:"list",key:t},o.a.createElement(w.b,{exact:!0,id:e.id,to:"/".concat(e.path),activeStyle:{borderBottom:"4px solid ".concat(e.activeColor),color:"#333333"},replace:!0},e.text))})))}}]),a}(n.Component)),I=a(19);function W(e,t){return Object.assign(e,t.data)}var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"LOGOUT":return W(e,t);default:return e||{}}},D=Object(I.c)({app:B}),P=a(96),V=(a(183),[{path:"/",component:k},{path:"/home",component:k},{path:"/my",component:j}]),U=[P.a];var T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.d,z=Object(I.e)(D,T(I.a.apply(void 0,U)));c.a.render(o.a.createElement(m.a,{store:z},o.a.createElement(o.a.StrictMode,null,o.a.createElement(w.a,null,o.a.createElement(x,{routeList:V}),o.a.createElement(_,{linkList:[{path:"home",text:"\u9996\u9875",id:"home",activeColor:"#FF0000"},{path:"my",text:"\u6211\u7684",id:"my",activeColor:"#0033CC"}]})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},98:function(e,t,a){e.exports=a(184)}},[[98,1,2]]]);
//# sourceMappingURL=main.514f4fc7.chunk.js.map