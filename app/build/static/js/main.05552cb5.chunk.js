(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{171:function(e,t,n){},172:function(e,t,n){},174:function(e,t,n){},176:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(41),c=n.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=n(15),s=n(16),l=n(17),u=n(18),m=(n(97),n(30)),p=n(91),h=(n(146),n(43)),v=n.n(h),d=(n(152),n(87)),g=n.n(d),f=n(88),b=n(31),E=(n(171),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={name:"",phonenumber:"",isLogin:!1},a.inputChange=a.inputChange.bind(Object(b.a)(a)),a.confirmLogin=a.confirmLogin.bind(Object(b.a)(a)),a.logOut=a.logOut.bind(Object(b.a)(a)),a}return Object(s.a)(n,[{key:"componentWillReceiveProps",value:function(e){console.log("nextProps",e)}},{key:"inputChange",value:function(e,t){this.setState(Object(f.a)({},t,e.target.value))}},{key:"confirmLogin",value:function(){var e=this.state,t=e.name,n=e.phonenumber,a=this.props.getLoginStatus;t&&n&&(a({name:t,phonenumber:n},!0),this.setState({isLogin:!0,name:"",phonenumber:""}))}},{key:"logOut",value:function(){(0,this.props.getLoginStatus)(null,!1),this.setState({isLogin:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.phonenumber,i=this.props.state.app,c=void 0===i?{}:i,r=this.props,s=r.show,l=r.showLogout;return s?o.a.createElement("div",null,!c.loginStatus&&o.a.createElement("div",{className:"loginWrap"},o.a.createElement("div",{className:"loginPanle"},o.a.createElement("div",{className:"title"},"\u767b\u5f55"),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"label name"},"\u59d3\u540d"),o.a.createElement("input",{className:"input",placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d",onChange:function(t){return e.inputChange(t,"name")},value:n})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"label phonenumber"},"\u7535\u8bdd"),o.a.createElement("input",{type:"number",maxLength:"11",className:"input",placeholder:"\u8bf7\u8f93\u5165\u7535\u8bdd",onChange:function(t){return e.inputChange(t,"phonenumber")},value:a})),o.a.createElement("div",{className:"confirmBtn",onClick:function(){return e.confirmLogin()}},"\u786e\u8ba4"))),c.loginStatus&&l&&o.a.createElement("div",{className:"logoutBtn",onClick:function(){return e.logOut()}},"\u9000\u51fa\u767b\u9646")):null}}]),n}(o.a.Component)),O=function(e,t){return{type:"LOGIN",data:{userinfo:e,loginStatus:t}}},j=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={tabs:[{title:o.a.createElement(v.a,null,"\u6bb5\u5b50")},{title:o.a.createElement(v.a,{text:"\u4eca\u65e5(20)"},"\u65b0\u95fb")},{title:o.a.createElement(v.a,{dot:!0},"\u7b11\u8bdd")}],videoDuanzi:[],showLogin:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;new Promise((function(e,t){g.a.get("https://api.apiopen.top/getJoke?page=1&count=10&type=video").then((function(n){if(n&&200===n.status&&n.data){var a=n.data,o=a.code,i=a.result;200===o&&e(i)}else t({code:-1,msg:"\u83b7\u53d6\u6bcf\u65e5\u6bb5\u5b50\u51fa\u9519~~~"})})).catch((function(e){console.log(e),t({code:-1,msg:e&&e.message})}))})).then((function(t){t&&e.setState({videoDuanzi:t})}))}},{key:"tabClick",value:function(e,t){console.log(e,t);var n=this.props.state.app;(void 0===n?{}:n).loginStatus||1!=t&&2!=t||this.setState({showLogin:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.tabs,a=t.videoDuanzi;return o.a.createElement("div",{className:"homeWrap"},o.a.createElement(p.a,{tabs:n,initialPage:0,onChange:function(e,t){console.log("onChange",t,e)},onTabClick:function(t,n){return e.tabClick(t,n)}},o.a.createElement("div",{className:"tab-list"},a&&a.map((function(e){return o.a.createElement("div",{className:"items",key:e.sid},"video"===e.type&&o.a.createElement("div",{className:"videoWrap"},o.a.createElement("video",{src:e.video,controls:!0,width:"100%",height:"210px"}),o.a.createElement("div",{className:"desc"},e.text)),o.a.createElement("div",{className:"basicInfo"},o.a.createElement("img",{className:"avatar",src:e.top_comments_header,alt:""}),o.a.createElement("span",{className:"name"},e.top_comments_name)))}))),o.a.createElement("div",null,"222"),o.a.createElement("div",null,"333")),o.a.createElement(E,Object.assign({},this.props,{show:this.state.showLogin})))}}]),n}(a.Component),y=Object(m.b)((function(e){return{state:e}}),(function(e){return{getLoginStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e(O(t,n))}}}))(j),L=(n(172),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"my-wrap"},o.a.createElement(E,Object.assign({},this.props,{showLogout:!0,show:!0})))}}]),n}(o.a.Component)),N=Object(m.b)((function(e){return{state:e}}),(function(e){return{getLoginStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e(O(t,n))}}}))(L),k=n(33),w=n(20),C=function(e){return o.a.createElement(w.c,null,o.a.createElement(w.a,{exact:!0,path:"/",component:e.routeList[0].component}),e.routeList.map((function(e,t){return o.a.createElement(w.a,{exact:!0,path:e.path,component:e.component,key:t})})))},S=(n(174),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.linkList;return o.a.createElement("ul",{className:"menuList"},e.map((function(e,t){return o.a.createElement("li",{className:"list",key:t},o.a.createElement(k.b,{exact:!0,id:e.id,to:"/".concat(e.path),activeStyle:{borderBottom:"4px solid ".concat(e.activeColor),color:"#333333"},replace:!0},e.text))})))}}]),n}(a.Component)),x=n(19);function _(e,t){return Object.assign(e,t.data)}var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"LOGOUT":return _(e,t);default:return e||{}}},P=Object(x.c)({app:D}),W=n(90),B=(n(175),[{path:"/",component:y},{path:"/home",component:y},{path:"/my",component:N}]),I=[W.a];var T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||x.d,z=Object(x.e)(P,T(x.a.apply(void 0,I)));c.a.render(o.a.createElement(m.a,{store:z},o.a.createElement(o.a.StrictMode,null,o.a.createElement(k.a,null,o.a.createElement(C,{routeList:B}),o.a.createElement(S,{linkList:[{path:"home",text:"\u9996\u9875",id:"home",activeColor:"#FF0000"},{path:"my",text:"\u6211\u7684",id:"my",activeColor:"#0033CC"}]})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,t,n){e.exports=n(176)},97:function(e,t,n){}},[[92,1,2]]]);
//# sourceMappingURL=main.05552cb5.chunk.js.map